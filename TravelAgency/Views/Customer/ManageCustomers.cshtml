
@model TravelAgency.Models.ViewModel.CustomerDataView

@{
    ViewBag.Title = "Manage Customers";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <h1>List of Customers</h1>

    <table class="table table-striped table-condensed table-hover" >
        <thead class="thead-dark">
            <tr>

                <th class="text-center">Name</th>
                <th class="text-center">Phone Number</th>
                <th class="text-center">Birth Date</th>
                <th class="text-center">Languages</th>
                <th class="text-center">Number of tickets</th>
                <th class="text-center">Discount</th>

                <th></th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var i in Model.UserProfile)
            {
                string discount = "No";

                if(i.Num_Tickets>=2)
                {
                    discount = "Yes";
                }

                <tr onclick="location.href = '@(Url.Action("Info", "Customer", new { id = i.ID }))'" style="cursor:pointer">



                    <td class="text-center"> @Html.DisplayFor(m => i.Name) </td>
                    <td class="text-center"> @Html.DisplayFor(m => i.PhoneNO)</td>
                    <td class="text-center"> @Html.DisplayFor(m => i.BirthDate)</td>
                    <td class="text-center"> @Html.DisplayFor(m => i.Lang)</td>
                    <td class="text-center"> @Html.DisplayFor(m => i.Num_Tickets)</td>
                    <td class="text-center"> @discount</td>




                    <td>@Html.ActionLink("Edit", "Edit", "Customer", new { id = i.ID }, new { @class = "btn btn-success" })</td>
                    <td>@Html.ActionLink("Delete", "Delete", "Customer", new { id = i.ID }, new { @class = "btn btn-danger" })</td>
                    <td>@Html.ActionLink("Book Tickets", "SelectTrip", "Trip", new { id = i.ID }, new { @class = "btn btn-warning" })</td>
                </tr>  
            }
        </tbody>
    </table>
   
    
</div>
@Html.ActionLink("New Customer", "Signup", "Customer", new { @class = "btn btn-primary" })
